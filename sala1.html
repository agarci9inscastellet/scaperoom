<html>
  <head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!-- <script src="https://agarci9inscastellet.github.io/scaperoom/js/scaperoom.js"></script> -->
  <script src="js/scaperoom.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

  <script defer>
     if (new URLSearchParams(window.location.search).has('clear')){
      resetStatus();
     }

  </script>
  </head>
  <body>
  <a-scene cursor="rayOrigin: mouse" raycaster="objects: .aframe-clickable">
      <!-- <a-camera
    raycaster="objects: .aframe-clickable"
    cursor="rayOrigin: mouse">
  </a-camera> -->
        <a-assets>
          <img id="fons" src="assets/fons1.jpg" />
          <img id="texturaterra" src="assets/texturaterra.jpg" />
          <img id="guernica" src="assets/guernica.jpg" />        
          <img id="cara" src="assets/6.jpg" />            
          <img id="bicicletes" src="assets/7.jpeg" />
        </a-assets>
        <a-sky src="#fons"></a-sky>
        <a-plane position="0 0 0" rotation="-90 0 0" width="100" height="100" src="#texturaterra"></a-plane>
        <a-plane     position="-1 4 -8" rotation="0 0 0" width="8" height="2"  src="#guernica"></a-plane>
        <a-box id="esmou"      position="-4 3 0" rotation="0 0 50"  src="#cara" depth="1" height="1" width="1"></a-box>
        <a-dodecahedron  class="clickable" id="dode" position="3 3 -30"  rotation="0 0 0" radius="3" src="#bicicletes"></a-dodecahedron>

       
      
      <a-entity id="key1"
        class="clickable" 
        gltf-model="url(assets/key.glb)"
        position="3 1 -3"    
        rotation="0 0 0"
        scale="0.001 0.001 0.001"
            animation="property: rotation;
               to: 0 360 0;
               loop: true;
               dur: 2000;
               easing: linear">
      </a-entity>

      <a-entity id="button"
        class="clickable" 
        gltf-model="url(assets/button.glb)"
        position="-3 1.5 -3"
        rotation="-90 -120 0"
        scale="0.001 0.001 0.001">
      </a-entity>

      <a-entity id="key2"
        class="clickable" 
        gltf-model="url(assets/key2.glb)"
        position="-23 8 0"
        rotation="0 0 0"
        scale="1 1 1">
      </a-entity>

      <a-entity id="door" 
        gltf-model="url(assets/door.glb)"
        position="0 1.5 -3"
        rotation="0 90 0"
        scale="0.1 0.1 0.1 ">
      </a-entity>
        </a-scene>


<script defer>
  //document.querySelector("#dode").addEventListener("click",()=>{alert("TAAA")})
  //showElement("#dode");
  questionGate("#door", 1, "sala2.html", "status_key1");

  clickShows("#button", "#door");

  catchableObject("#key1","status_key1", "üîë1");
  //  catchableObject("#key2","status_key2", "üîê");
  //  catchableObject("#dodezzz","status_key1", false);
  //  questionGate("#door", 1, "sala2.html", "status_key1");
  /** AL FINAL HIDE */
  hideElement("#door");


</script>





</html>
